<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LexiFlow - è¡Œä¸šç¿»è¯‘ç²¾é€‰</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Inter:wght@300;500&display=swap" rel="stylesheet">
    <style>
        body { transition: background-color 0.5s ease, color 0.5s ease; font-family: 'Inter', 'Noto Serif SC', serif; }
        .glass-card {
            background: rgba(255, 255, 255, 0.65);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.4);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .dark-mode { background-color: #0f1115 !important; color: #cbd5e1; }
        .dark-mode .glass-card {
            background: rgba(30, 32, 38, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        .dark-mode h1, .dark-mode h2 { color: #f8fafc !important; }
        .dark-mode input { background: rgba(255,255,255,0.05); color: white; }

        .bg-legal { background-color: #f1f4f8; --accent: #1e293b; }
        .bg-gaming { background-color: #f8f6ff; --accent: #7c3aed; }
        .bg-food { background-color: #fffaf0; --accent: #d97706; }
        
        .tab-active { color: var(--accent); border-bottom: 2px solid var(--accent); font-weight: bold; }
        .note-input { background: transparent; border-bottom: 1px dashed #ccc; outline: none; width: 100%; }
    </style>
</head>
<body class="bg-legal min-h-screen flex flex-col items-center pb-20 px-6" id="body-bg">

    <div class="fixed top-6 right-6 z-50 flex space-x-3">
        <button onclick="toggleDarkMode()" class="p-3 rounded-full glass-card hover:rotate-12 transition-all shadow-lg">
            <span id="dark-icon" class="text-xl">ğŸŒ™</span>
        </button>
    </div>

    <nav class="sticky top-0 z-40 w-full flex justify-center py-8 space-x-10 text-gray-400">
        <button onclick="switchTheme('legal')" id="tab-legal" class="tab-active transition-all">âš–ï¸ æ³•å¾‹</button>
        <button onclick="switchTheme('gaming')" id="tab-gaming" class="transition-all">ğŸ® æ¸¸æˆ</button>
        <button onclick="switchTheme('food')" id="tab-food" class="transition-all">ğŸ± é£Ÿç‰©</button>
    </nav>

    <section class="w-full max-w-3xl mb-12">
        <div class="text-xs uppercase tracking-[0.3em] text-gray-400 mb-4 text-center">Featured Word of Today</div>
        <div id="hero-card" class="glass-card rounded-[2.5rem] p-10 text-center shadow-xl border-t border-white">
            </div>
    </section>

    <div class="w-full max-w-xl mb-12">
        <input type="text" placeholder="æ¢ç´¢ä¸“ä¸šè¯‘æ³•..." 
            class="w-full px-8 py-5 rounded-3xl shadow-sm glass-card focus:ring-2 focus:ring-gray-100 text-lg">
    </div>

    <main class="w-full max-w-2xl space-y-6" id="card-container"></main>

    <script>
        const content = {
            legal: {
                hero: { en: "Bona Fide", zh: "å–„æ„ï¼›è¯šå®åœ°", detail: "æ‹‰ä¸è¯­è¯æ±‡ã€‚æŒ‡åœ¨æ³•å¾‹è¡Œä¸ºä¸­ä¸»è§‚ä¸Šæ²¡æœ‰æ¬ºè¯ˆçš„æ„å›¾ã€‚", context: "Legal Principle" },
                cards: [
                    { id: 'l1', en: "Consideration", zh: "å¯¹ä»·", detail: "åˆåŒä¸­æ¢å–æ‰¿è¯ºçš„å¯¹ç­‰åˆ©ç›Šã€‚", context: "Contract" },
                    { id: 'l2', en: "Force Majeure", zh: "ä¸å¯æŠ—åŠ›", detail: "ä¸å¯é¢„è§ä¸”ä¸å¯å…‹æœçš„å®¢è§‚åŠ›é‡ã€‚", context: "Compliance" }
                ],
                theme: "bg-legal", accent: "#1e293b"
            },
            gaming: {
                hero: { en: "Roguelike", zh: "è‚‰é¸½ï¼ˆéšæœºç”Ÿæˆåœ°ç‰¢ç±»ï¼‰", detail: "ä»¥éšæœºæ€§ã€æ°¸ä¹…æ­»äº¡ä¸ºæ ¸å¿ƒç‰¹å¾çš„æ¸¸æˆç±»å‹ã€‚", context: "Genre" },
                cards: [
                    { id: 'g1', en: "Critical Hit", zh: "ä¼šå¿ƒä¸€å‡»", detail: "æ¸¸æˆä¸­çš„æš´å‡»æœºåˆ¶ã€‚", context: "Combat" },
                    { id: 'g2', en: "Localisation", zh: "æœ¬åœ°åŒ–", detail: "ä¸ä»…ä»…æ˜¯ç¿»è¯‘ï¼Œæ›´æ˜¯æ–‡åŒ–é€‚é…ã€‚", context: "Industry" }
                ],
                theme: "bg-gaming", accent: "#7c3aed"
            },
            food: {
                hero: { en: "Umami", zh: "é²œå‘³", detail: "é…¸ç”œè‹¦å’¸ä¹‹å¤–çš„ç¬¬äº”ç§åŸºæœ¬å‘³é“ã€‚", context: "Flavor" },
                cards: [
                    { id: 'f1', en: "Wok Hei", zh: "é”…æ°”", detail: "é•¬æ°”ï¼Œä¸­é¤çƒ¹é¥ªçš„çµé­‚ã€‚", context: "Technique" },
                    { id: 'f2', en: "Blanch", zh: "ç„¯æ°´", detail: "åŸºç¡€çƒ¹é¥ªæ­¥éª¤ã€‚", context: "Culinary" }
                ],
                theme: "bg-food", accent: "#d97706"
            }
        };

        let currentTheme = 'legal';
        let isDark = false;

        function speak(text) {
            const utter = new SpeechSynthesisUtterance(text);
            utter.lang = 'en-US';
            window.speechSynthesis.speak(utter);
        }

        function toggleDarkMode() {
            isDark = !isDark;
            document.body.classList.toggle('dark-mode');
            document.getElementById('dark-icon').innerText = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
            switchTheme(currentTheme);
        }

        function saveNote(id, value) {
            localStorage.setItem(`note_${id}`, value);
        }

        function switchTheme(type) {
            currentTheme = type;
            const data = content[type];
            
            document.getElementById('body-bg').className = `${data.theme} min-h-screen flex flex-col items-center pb-20 px-6 ${isDark ? 'dark-mode' : ''}`;
            
            // åˆ‡æ¢Tabs
            ['legal', 'gaming', 'food'].forEach(t => {
                document.getElementById(`tab-${t}`).className = t === type ? 'tab-active' : '';
                document.getElementById(`tab-${t}`).style.color = (t === type && !isDark) ? data.accent : '';
            });

            // æ¸²æŸ“æ¯æ—¥ä¸€è¯
            const hero = data.hero;
            document.getElementById('hero-card').innerHTML = `
                <h2 class="text-5xl font-bold mb-4 tracking-tight" style="color: ${isDark ? '#fff' : data.accent}">${hero.en}</h2>
                <div class="text-2xl font-medium mb-4 text-gray-700 dark:text-gray-300">${hero.zh}</div>
                <p class="max-w-md mx-auto text-gray-500">${hero.detail}</p>
                <button onclick="speak('${hero.en}')" class="mt-6 p-4 rounded-full bg-white/50 hover:bg-white shadow-sm transition-all">ğŸ”Š æ’­æ”¾</button>
            `;

            // æ¸²æŸ“åˆ—è¡¨
            const container = document.getElementById('card-container');
            container.innerHTML = data.cards.map(card => {
                const savedNote = localStorage.getItem(`note_${card.id}`) || '';
                return `
                <div class="glass-card p-8 rounded-[2rem] group relative">
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex items-center space-x-3">
                            <h3 class="text-2xl font-bold" style="color: ${isDark ? '#fff' : data.accent}">${card.en}</h3>
                            <button onclick="speak('${card.en}')" class="text-gray-400">ğŸ”Š</button>
                        </div>
                        <span class="text-[10px] uppercase tracking-widest text-gray-400 border border-gray-200 px-2 py-0.5 rounded-full">${card.context}</span>
                    </div>
                    <div class="text-xl mb-4">${card.zh}</div>
                    <p class="text-sm text-gray-500 mb-6">${card.detail}</p>
                    
                    <div class="mt-4 pt-4 border-t border-gray-100 dark:border-gray-800">
                        <label class="text-[10px] text-gray-400 uppercase block mb-1">My Notes</label>
                        <input type="text" class="note-input text-sm dark:text-gray-300" 
                            placeholder="ç‚¹å‡»æ­¤å¤„è¾“å…¥ä½ çš„ç†è§£..." 
                            value="${savedNote}"
                            onblur="saveNote('${card.id}', this.value)">
                    </div>
                </div>
                `;
            }).join('');
        }

        switchTheme('legal');
    </script>
</body>
</html>