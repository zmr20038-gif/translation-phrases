<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LexiFlow - çµæ„Ÿå­¦ä¹ </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;900&family=Noto+Serif+SC:wght@700&display=swap" rel="stylesheet">
    <style>
        body { 
            background-color: #f8fafc; 
            font-family: 'Inter', sans-serif; 
            transition: background 0.5s ease;
            -webkit-font-smoothing: antialiased;
        }
        .dark-mode { background-color: #020617 !important; color: #f1f5f9; }
        
        /* åŠ¨æ€èƒŒæ™¯è§†è§‰å…ƒç´  */
        .bg-blob {
            position: fixed; width: 400px; height: 400px;
            background: radial-gradient(circle, rgba(59,130,246,0.08) 0%, transparent 70%);
            border-radius: 50%; z-index: -1; filter: blur(40px);
            animation: move 20s infinite alternate;
        }
        @keyframes move { from { transform: translate(-10%, -10%); } to { transform: translate(20%, 20%); } }

        .glass { 
            background: rgba(255, 255, 255, 0.8); backdrop-filter: saturate(180%) blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
        .dark-mode .glass { 
            background: rgba(15, 23, 42, 0.8); border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .learn-card {
            animation: cardShow 0.6s cubic-bezier(0.22, 1, 0.36, 1);
            box-shadow: 0 20px 50px -12px rgba(0, 0, 0, 0.05);
        }
        @keyframes cardShow {
            from { opacity: 0; transform: scale(0.9) translateY(30px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }

        .btn-press:active { transform: scale(0.95); transition: 0.1s; }
        .view-hidden { display: none !important; }
        .tab-active { color: #3b82f6; font-weight: 900; }
        .tab-active::after { content: ''; display: block; width: 4px; height: 4px; background: #3b82f6; border-radius: 50%; margin: 2px auto; }
    </style>
</head>
<body class="min-h-screen pb-32 overflow-x-hidden">
    <div class="bg-blob"></div>

    <section id="page-learn" class="px-6 pt-16 max-w-md mx-auto view-hidden">
        <div class="text-center mb-12">
            <h2 class="text-[10px] tracking-[0.4em] text-blue-500 font-black uppercase mb-4">Focus Mode</h2>
            <div class="inline-flex items-end space-x-2">
                <span id="stat-review" class="text-6xl font-black serif-title leading-none">0</span>
                <span class="text-xs text-gray-400 font-bold pb-1 uppercase">To Review</span>
            </div>
        </div>

        <div id="card-stage" class="relative min-h-[420px]">
            </div>

        <div id="empty-state" class="view-hidden text-center py-20 animate-pulse">
            <p class="text-gray-400 font-medium">ä»»åŠ¡å·²æ¸…ç©ºï¼Œæ™šç‚¹å†æ¥</p>
            <button onclick="goto('search')" class="mt-4 text-blue-500 font-bold text-xs tracking-widest uppercase">Go Explore â†’</button>
        </div>
    </section>

    <section id="page-search" class="px-6 pt-12 max-w-2xl mx-auto">
        <header class="mb-10">
            <h1 class="text-4xl font-black serif-title tracking-tighter mb-2">LexiFlow</h1>
            <div class="h-1 w-12 bg-blue-500 rounded-full"></div>
        </header>

        <div class="glass rounded-[2.5rem] p-10 mb-8 relative overflow-hidden group">
            <div class="absolute -right-4 -top-4 text-8xl font-black opacity-[0.03] select-none">DAILY</div>
            <h3 id="daily-en" class="text-3xl font-black mb-2 tracking-tight">Focus</h3>
            <p id="daily-zh" class="text-blue-500 font-bold mb-4">ç‚¹å‡»æœç´¢å¼€å§‹æ¢ç´¢</p>
            <p id="daily-desc" class="text-sm text-gray-400 leading-relaxed italic"></p>
        </div>

        <div class="sticky top-6 z-50 mb-8">
            <div class="glass rounded-3xl flex items-center px-6 shadow-xl border-none">
                <span class="text-lg">ğŸ”</span>
                <input type="text" id="search-input" oninput="renderList()" placeholder="è¾“å…¥è‹±æ–‡æˆ–ä¸­æ–‡æœç´¢..." 
                    class="w-full bg-transparent py-5 px-4 focus:outline-none font-medium text-lg">
            </div>
        </div>

        <div class="flex space-x-2 mb-8 overflow-x-auto no-scrollbar pb-2">
            <button onclick="filter('all')" id="f-all" class="flex-none px-6 py-2.5 rounded-2xl glass text-[10px] font-black tracking-widest transition-all">ALL</button>
            <button onclick="filter('legal')" id="f-legal" class="flex-none px-6 py-2.5 rounded-2xl glass text-[10px] font-black tracking-widest transition-all">LEGAL</button>
            <button onclick="filter('gaming')" id="f-gaming" class="flex-none px-6 py-2.5 rounded-2xl glass text-[10px] font-black tracking-widest transition-all">GAMING</button>
            <button onclick="filter('food')" id="f-food" class="flex-none px-6 py-2.5 rounded-2xl glass text-[10px] font-black tracking-widest transition-all">FOOD</button>
        </div>

        <div id="search-list" class="space-y-3"></div>
    </section>

    <nav class="fixed bottom-8 left-1/2 -translate-x-1/2 w-[280px] h-20 glass rounded-[2.5rem] shadow-2xl flex items-center justify-around px-2 z-[100] border-white/40">
        <button onclick="goto('learn')" id="tab-learn" class="flex-1 flex flex-col items-center transition-all">
            <span class="text-2xl mb-1">ğŸ“–</span>
            <span class="text-[8px] font-black uppercase tracking-widest">Learn</span>
        </button>
        <button onclick="goto('search')" id="tab-search" class="flex-1 flex flex-col items-center transition-all tab-active">
            <span class="text-2xl mb-1">ğŸ”</span>
            <span class="text-[8px] font-black uppercase tracking-widest">Search</span>
        </button>
        <button onclick="toggleDark()" class="flex-1 flex flex-col items-center opacity-40 hover:opacity-100">
            <span id="dark-btn" class="text-2xl mb-1">ğŸŒ™</span>
            <span class="text-[8px] font-black uppercase tracking-widest">Theme</span>
        </button>
    </nav>

    <script>
        // æ•°æ®é›†ä¿æŒå®Œæ•´
        const data = {
            legal: [
                { id: 'l1', en: "Without Prejudice", zh: "ä¸æŸå®³ï¼›æ— åè§", d: "ä¸æ„æˆå¯¹è‡ªèº«æƒåˆ©çš„æ”¾å¼ƒã€‚" },
                { id: 'l2', en: "Indemnification", zh: "è¡¥å¿ï¼›èµ”å¿", d: "ä¸€æ–¹æ‰¿è¯ºèµ”å¿å¦ä¸€æ–¹é­å—çš„æŸå¤±ã€‚" },
                { id: 'l3', en: "Force Majeure", zh: "ä¸å¯æŠ—åŠ›", d: "ä¸èƒ½é¢„è§ã€é¿å…ä¸”å…‹æœçš„å®¢è§‚æƒ…å†µã€‚" },
                { id: 'l4', en: "Due Diligence", zh: "å°½èŒè°ƒæŸ¥", d: "ç­¾ç½²åˆåŒå‰çš„å…¨é¢å®¡æŸ¥ã€‚" },
                { id: 'l5', en: "Joint Liability", zh: "è¿å¸¦è´£ä»»", d: "å¤šä¸ªä¸»ä½“å…±åŒæ‰¿æ‹…å…¨éƒ¨å€ºåŠ¡ã€‚" },
                { id: 'l6', en: "Breach of Contract", zh: "è¿çº¦", d: "æœªèƒ½æŒ‰ç…§åˆåŒçº¦å®šå±¥è¡Œä¹‰åŠ¡ã€‚" },
                { id: 'l7', en: "Arbitration", zh: "ä»²è£", d: "æäº¤ç¬¬ä¸‰æ–¹è£å†³çš„çº çº·è§£å†³æ–¹å¼ã€‚" },
                { id: 'l8', en: "IP Law", zh: "çŸ¥è¯†äº§æƒ", d: "å…³äºä½œå“ã€å‘æ˜ç­‰æ™ºåŠ›æˆæœçš„æƒåˆ©ã€‚" },
                { id: 'l9', en: "Statute of Limitations", zh: "è¯‰è®¼æ—¶æ•ˆ", d: "æƒåˆ©äººè¯·æ±‚æƒçš„æ³•å®šæœŸé—´ã€‚" },
                { id: 'l10', en: "Articles of Association", zh: "å…¬å¸ç« ç¨‹", d: "è§„å®šå…¬å¸ç»„ç»‡åŸåˆ™çš„åŸºæœ¬å‡†åˆ™ã€‚" },
                { id: 'l11', en: "Power of Attorney", zh: "æˆæƒå§”æ‰˜ä¹¦", d: "ä¹¦é¢æˆæƒä»–äººè¡Œä½¿æ³•å¾‹æƒåŠ›çš„æ–‡ä»¶ã€‚" },
                { id: 'l12', en: "Liquidated Damages", zh: "çº¦å®šè¿çº¦é‡‘", d: "é¢„å…ˆçº¦å®šçš„è¿çº¦èµ”å¿é‡‘é¢ã€‚" },
                { id: 'l13', en: "Good Faith", zh: "è¯šå®ä¿¡ç”¨", d: "æ°‘æ³•åŸºæœ¬åŸåˆ™ï¼Œè¦æ±‚è¯šå®å®ˆä¿¡ã€‚" },
                { id: 'l14', en: "Burden of Proof", zh: "ä¸¾è¯è´£ä»»", d: "å½“äº‹äººå¯¹è‡ªå·±ä¸»å¼ æœ‰è¯æ˜è´£ä»»ã€‚" },
                { id: 'l15', en: "Conflict of Interest", zh: "åˆ©ç›Šå†²çª", d: "ä¸ªäººåˆ©ç›Šä¸èŒå®ˆä¹‹é—´çš„ç«äº‰ã€‚" },
                { id: 'l16', en: "NDA", zh: "ä¿å¯†åè®®", d: "çº¦å®šä¸å‘ç¬¬ä¸‰æ–¹æ³„éœ²ç‰¹å®šä¿¡æ¯çš„åè®®ã€‚" },
                { id: 'l17', en: "Jurisdiction", zh: "å¸æ³•ç®¡è¾–æƒ", d: "æ³•å¾‹èµ‹äºæ³•é™¢å®¡ç†æ¡ˆä»¶çš„æƒåŠ›ã€‚" },
                { id: 'l18', en: "Termination Clause", zh: "ç»ˆæ­¢æ¡æ¬¾", d: "è§„å®šåˆåŒå¦‚ä½•åŠä½•æ—¶ç»“æŸçš„æ¡æ¬¾ã€‚" },
                { id: 'l19', en: "Duty of Care", zh: "æ³¨æ„ä¹‰åŠ¡", d: "åº”è¾¾åˆ°çš„åˆç†è°¨æ…ç¨‹åº¦ã€‚" },
                { id: 'l20', en: "Legal Entity", zh: "æ³•äººå®ä½“", d: "ç‹¬ç«‹æ‰¿æ‹…æ°‘äº‹è´£ä»»çš„ç»„ç»‡ã€‚" },
                { id: 'l21', en: "Governing Law", zh: "ç®¡è¾–æ³•å¾‹", d: "è§£å†³äº‰è®®æ‰€é€‚ç”¨çš„å›½å®¶æ³•å¾‹ã€‚" },
                { id: 'l22', en: "Litigation", zh: "è¯‰è®¼", d: "é€šè¿‡æ³•é™¢è§£å†³äº‰è®®çš„è¿‡ç¨‹ã€‚" },
                { id: 'l23', en: "Injunction", zh: "ç¦ä»¤", d: "æ³•é™¢å‘å¸ƒçš„å¼ºåˆ¶æˆ–ç¦æ­¢å‘½ä»¤ã€‚" },
                { id: 'l24', en: "Assignment", zh: "è½¬è®©", d: "å°†åˆåŒæƒåˆ©ç§»äº¤ç»™ç¬¬ä¸‰æ–¹çš„è¡Œä¸ºã€‚" },
                { id: 'l25', en: "Pro Bono", zh: "å…¬ç›Šæ³•å¾‹æœåŠ¡", d: "å…è´¹æä¾›çš„ä¸“ä¸šæ³•å¾‹æ´åŠ©ã€‚" },
                { id: 'l26', en: "Reasonable Doubt", zh: "åˆç†æ€€ç–‘", d: "åˆ‘äº‹è¯‰è®¼ä¸­å®šç½ªå¿…é¡»æ’é™¤çš„æ ‡å‡†ã€‚" },
                { id: 'l27', en: "Non-Compete", zh: "ç«ä¸šé™åˆ¶", d: "ç¦»èŒåä¸å¾—ä»äº‹ç«äº‰ä¸šåŠ¡çš„çº¦å®šã€‚" },
                { id: 'l28', en: "Public Domain", zh: "å…¬æœ‰é¢†åŸŸ", d: "ä¸å†å—äº§æƒä¿æŠ¤çš„å…¬å¼€ä½œå“ã€‚" },
                { id: 'l29', en: "Precedent", zh: "åˆ¤ä¾‹", d: "å…·æœ‰çº¦æŸåŠ›çš„å…ˆå‰æ³•é™¢è£å†³ã€‚" },
                { id: 'l30', en: "Waiver", zh: "å¼ƒæƒ", d: "è‡ªæ„¿æ”¾å¼ƒå·²çŸ¥æƒåˆ©çš„æ³•å¾‹è¡Œä¸ºã€‚" }
            ],
            gaming: [
                { id: 'g1', en: "Fog of War", zh: "æˆ˜äº‰è¿·é›¾", d: "åœ°å›¾ä¸Šæœªæ¢ç´¢åŒºåŸŸçš„è§†è§‰é®è”½ã€‚" },
                { id: 'g2', en: "Cooldown", zh: "å†·å´æ—¶é—´", d: "æŠ€èƒ½å†æ¬¡ä½¿ç”¨å‰çš„ç­‰å¾…æœŸã€‚" },
                { id: 'g3', en: "Aggro", zh: "ä»‡æ¨", d: "æ€ªç‰©å¯¹ç©å®¶çš„æ”»å‡»ä¼˜å…ˆçº§ã€‚" },
                { id: 'g4', en: "Buff", zh: "å¢ç›ŠçŠ¶æ€", d: "æå‡è§’è‰²å±æ€§çš„æ­£é¢æ•ˆæœã€‚" },
                { id: 'g5', en: "Debuff", zh: "å‡ç›ŠçŠ¶æ€", d: "é™ä½è§’è‰²å±æ€§çš„è´Ÿé¢æ•ˆæœã€‚" },
                { id: 'g6', en: "Hitbox", zh: "ç¢°æ’ç®±", d: "åˆ¤å®šæ”»å‡»æ˜¯å¦å‘½ä¸­çš„éšå½¢åŒºåŸŸã€‚" },
                { id: 'g7', en: "Loot", zh: "æˆ˜åˆ©å“", d: "ä»æ€ªç‰©æˆ–å®ç®±ä¸­è·å¾—çš„ç‰©å“ã€‚" },
                { id: 'g8', en: "Mana", zh: "æ³•åŠ›å€¼", d: "é‡Šæ”¾æŠ€èƒ½æ¶ˆè€—çš„èƒ½é‡ã€‚" },
                { id: 'g9', en: "NPC", zh: "éç©å®¶è§’è‰²", d: "ç”±ç³»ç»Ÿæ§åˆ¶çš„æ¸¸æˆäººç‰©ã€‚" },
                { id: 'g10', en: "Sandbox", zh: "æ²™ç›’", d: "æé«˜è‡ªç”±åº¦çš„å¼€æ”¾ç©æ³•ã€‚" },
                { id: 'g11', en: "Speedrun", zh: "é€Ÿé€š", d: "ç”¨æœ€çŸ­æ—¶é—´é€šå…³çš„æŒ‘æˆ˜ã€‚" },
                { id: 'g12', en: "Meta", zh: "ä¸»æµç­–ç•¥", d: "å½“å‰ç‰ˆæœ¬æœ€å¼ºçš„ç©æ³•æ­é…ã€‚" },
                { id: 'g13', en: "Gacha", zh: "æŠ½å¡", d: "ä»˜è´¹éšæœºè·å–å¥–åŠ±çš„æœºåˆ¶ã€‚" },
                { id: 'g14', en: "DLC", zh: "è¿½åŠ å†…å®¹", d: "æ¸¸æˆå‘å”®åå‘å¸ƒçš„æ‰©å±•åŒ…ã€‚" },
                { id: 'g15', en: "Mod", zh: "æ¨¡ç»„", d: "ç©å®¶è‡ªè¡Œå¼€å‘çš„ä¿®æ”¹è¡¥ä¸ã€‚" },
                { id: 'g16', en: "Grinding", zh: "åˆ·ç­‰çº§", d: "é‡å¤æ€§åŠ³åŠ¨ä»¥è·å–ç»éªŒã€‚" },
                { id: 'g17', en: "Spawn", zh: "ç”Ÿæˆ", d: "ç‰©ä½“æˆ–è§’è‰²åœ¨åœ°å›¾ä¸Šå‡ºç°ã€‚" },
                { id: 'g18', en: "Proc", zh: "æ¦‚ç‡è§¦å‘", d: "ç‰¹å®šæ¦‚ç‡è§¦å‘çš„æŠ€èƒ½æ•ˆæœã€‚" },
                { id: 'g19', en: "Easter Egg", zh: "å½©è›‹", d: "éšè—åœ¨æ¸¸æˆé‡Œçš„ç§˜å¯†æƒŠå–œã€‚" },
                { id: 'g20', en: "Nerf", zh: "å‰Šå¼±", d: "å®˜æ–¹ä¸‹è°ƒæŸä¸ªèƒ½åŠ›çš„æ•°å€¼ã€‚" },
                { id: 'g21', en: "Buff", zh: "å¢å¼º", d: "å®˜æ–¹æå‡æŸä¸ªèƒ½åŠ›çš„æ•°å€¼ã€‚" },
                { id: 'g22', en: "RNG", zh: "éšæœºæ•°ç”Ÿæˆ", d: "å†³å®šè¿æ°”çš„ç®—æ³•æ ¸å¿ƒã€‚" },
                { id: 'g23', en: "Frag", zh: "å‡»æ€", d: "å°„å‡»æ¸¸æˆä¸­å‡»è´¥å¯¹æ‰‹çš„ç‚¹æ•°ã€‚" },
                { id: 'g24', en: "PvE", zh: "ç©å®¶å¯¹ç¯å¢ƒ", d: "ç©å®¶ä¸ç”µè„‘å¯¹æŠ—çš„æ¨¡å¼ã€‚" },
                { id: 'g25', en: "PvP", zh: "ç©å®¶å¯¹æˆ˜", d: "ç©å®¶ä¹‹é—´äº’ç›¸ç«æŠ€çš„æ¨¡å¼ã€‚" },
                { id: 'g26', en: "Skill Tree", zh: "æŠ€èƒ½æ ‘", d: "è§’è‰²èƒ½åŠ›çš„æˆé•¿åˆ†æ”¯å›¾ã€‚" },
                { id: 'g27', en: "QoL", zh: "ä½“éªŒä¼˜åŒ–", d: "è®©æ¸¸æˆæ›´å¥½ç©çš„å°æ”¹è¿›ã€‚" },
                { id: 'g28', en: "Draft", zh: "å¾å¬", d: "ç«æŠ€æ¯”èµ›ä¸­è½®æµé€‰äººçš„ç¯èŠ‚ã€‚" },
                { id: 'g29', en: "Vertical Slice", zh: "å‚ç›´åˆ‡ç‰‡", d: "ä»£è¡¨æ¸¸æˆæœ€ç»ˆå“è´¨çš„Demoã€‚" },
                { id: 'g30', en: "XP", zh: "ç»éªŒå€¼", d: "æå‡ç­‰çº§æ‰€éœ€çš„ç§¯ç´¯ç‚¹æ•°ã€‚" }
            ],
            food: [
                { id: 'f1', en: "Maillard", zh: "ç¾æ‹‰å¾·ååº”", d: "è‚‰ç±»ç…ç‚¸äº§ç”Ÿçš„ç„¦é¦™è¤å˜ã€‚" },
                { id: 'f2', en: "Stir-fry", zh: "ç…¸ç‚’", d: "ä¸­é¤çµé­‚æŠ€æ³•ï¼šé«˜æ¸©å¿«ç‚’ã€‚" },
                { id: 'f3', en: "Al Dente", zh: "å¼¹ç‰™", d: "æ„é¢ç…®åˆ°æ°åˆ°å¥½å¤„çš„å£æ„Ÿã€‚" },
                { id: 'f4', en: "Aroma", zh: "é¦™æ°”", d: "é£Ÿç‰©æ•£å‘å‡ºçš„è¯±äººæ°”å‘³ã€‚" },
                { id: 'f5', en: "Umami", zh: "é²œå‘³", d: "é™¤äº†é…¸ç”œè‹¦å’¸å¤–çš„ç¬¬äº”å‘³ã€‚" },
                { id: 'f6', en: "Sous-vide", zh: "ä½æ¸©æ…¢ç…®", d: "çœŸç©ºæ’æ¸©åŠ çƒ­çš„åˆ†å­æ–™ç†ã€‚" },
                { id: 'f7', en: "Blanch", zh: "ç„¯æ°´", d: "é£Ÿæå¿«é€Ÿå…¥æ²¸æ°´çƒ«ä¸€ä¸‹ã€‚" },
                { id: 'f8', en: "Simmer", zh: "æ–‡ç«ç‚–", d: "ä¿æŒå¾®æ²¸çŠ¶æ€æ…¢æ…¢åŠ çƒ­ã€‚" },
                { id: 'f9', en: "Wok Hei", zh: "é•¬æ°”", d: "çƒ­é”…ç¿»ç‚’å¸¦æ¥çš„ç‹¬ç‰¹ç„¦é¦™ã€‚" },
                { id: 'f10', en: "Acidity", zh: "é…¸åº¦", d: "è°ƒèŠ‚é£å‘³å¹³è¡¡çš„æ˜äº®é…¸æ„Ÿã€‚" },
                { id: 'f11', en: "Garnish", zh: "ç›˜é¥°", d: "ç”¨äºè£…é¥°èœè‚´çš„ç‚¹ç¼€ç‰©ã€‚" },
                { id: 'f12', en: "Texture", zh: "è´¨åœ°", d: "é£Ÿç‰©åœ¨å£ä¸­çš„ç‰©ç†æ„Ÿå—ã€‚" },
                { id: 'f13', en: "Ferment", zh: "å‘é…µ", d: "å¾®ç”Ÿç‰©è½¬åŒ–å‡ºçš„é£å‘³ç¥å¥‡ã€‚" },
                { id: 'f14', en: "Zest", zh: "æœçš®å±‘", d: "æŸ æª¬çš®æœ€å¤–å±‚çš„æ¸…æ–°æ²¹è„‚ã€‚" },
                { id: 'f15', en: "Glaze", zh: "æŒ‚æ±", d: "è®©é£Ÿç‰©è¡¨é¢é—ªé—ªå‘äº®çš„æ±¤æ±ã€‚" },
                { id: 'f16', en: "Aftertaste", zh: "ä½™éŸµ", d: "åå’½åç•™åœ¨å–‰é—´çš„å‘³é“ã€‚" },
                { id: 'f17', en: "Sommelier", zh: "ä¾é…’å¸ˆ", d: "ä¸“ä¸šçš„é¤é…’æ­é…é¡¾é—®ã€‚" },
                { id: 'f18', en: "Palate", zh: "å‘³è§‰", d: "è¾¨åˆ«é£Ÿç‰©ç»†å¾®å·®å¼‚çš„èƒ½åŠ›ã€‚" },
                { id: 'f19', en: "Infusion", zh: "æµ¸æ¸", d: "æå–é¦™è‰æˆ–é£Ÿæé£å‘³çš„è¿‡ç¨‹ã€‚" },
                { id: 'f20', en: "Velveting", zh: "ä¸Šæµ†", d: "è‚‰ç‰‡è£¹æ·€ç²‰ä¿æŒæ»‘å«©ã€‚" },
                { id: 'f21', en: "Zing", zh: "åŠ²çˆ½", d: "å½¢å®¹å‘³é“è¾›è¾£æˆ–æ¸…çˆ½æœ‰åŠ›ã€‚" },
                { id: 'f22', en: "Crisp", zh: "é…¥è„†", d: "å¹²ç‡¥ã€è½»è–„ä¸”æ˜“ç¢çš„è´¨åœ°ã€‚" },
                { id: 'f23', en: "Decant", zh: "é†’é…’", d: "è®©é…’æ¶²æ¥è§¦ç©ºæ°”å‘¼å¸ã€‚" },
                { id: 'f24', en: "Mouthfeel", zh: "å£æ„Ÿ", d: "å½¢å®¹ç²˜ç¨ ã€ä¸æ»‘ç­‰ç‰©ç†æ€§ã€‚" },
                { id: 'f25', en: "Savory", zh: "å’¸é²œ", d: "å½¢å®¹å£æ„Ÿä¸°å¯Œä¸”åå’¸çš„é£Ÿç‰©ã€‚" },
                { id: 'f26', en: "Sear", zh: "ç¼çƒ§", d: "é«˜æ¸©å¿«é€Ÿé”ä½é£Ÿææ°´åˆ†ã€‚" },
                { id: 'f27', en: "Zesty", zh: "é£å‘³æµ“éƒ", d: "å¸¦æœ‰æ¸…æ–°æŸ‘æ©˜æ„Ÿçš„æ´»åŠ›å‘³ã€‚" },
                { id: 'f28', en: "Body", zh: "é…’ä½“", d: "é¥®æ–™åœ¨å£ä¸­çš„åšé‡æ„Ÿã€‚" },
                { id: 'f29', en: "Pairing", zh: "æ­é…", d: "é£Ÿæä¸ç¾é…’çš„å®Œç¾èåˆã€‚" },
                { id: 'f30', en: "Dim Sum", zh: "ç‚¹å¿ƒ", d: "ç²¤å¼èŒ¶é¤ä¸­çš„ç²¾è‡´å°é£Ÿã€‚" }
            ]
        };

        let activeTab = 'search';
        let activeCat = 'all';
        const reviews = [0, 1, 12, 24, 48, 168, 360, 720];

        // æ ¸å¿ƒæ¸²æŸ“å™¨
        function renderList() {
            const q = document.getElementById('search-input').value.toLowerCase();
            let all = [];
            if(activeCat === 'all') Object.values(data).forEach(c => all.push(...c));
            else all = data[activeCat] || [];

            all.sort((a,b) => a.en.localeCompare(b.en));
            const filtered = all.filter(i => i.en.toLowerCase().includes(q) || i.zh.includes(q));
            const mem = JSON.parse(localStorage.getItem('lex_v4') || '{}');

            document.getElementById('search-list').innerHTML = filtered.map(i => `
                <div class="glass p-5 rounded-3xl flex justify-between items-center btn-press hover:bg-white/50" onclick="markKnown('${i.id}')">
                    <div>
                        <h4 class="font-bold text-lg leading-tight">${i.en}</h4>
                        <p class="text-gray-400 text-sm font-medium">${i.zh}</p>
                    </div>
                    <div class="flex space-x-0.5">
                        ${Array.from({length:7}).map((_,idx) => `<div class="w-1 h-3 rounded-full ${idx < (mem[i.id]?.lvl || 0) ? 'bg-blue-500' : 'bg-gray-200 dark:bg-gray-800'}"></div>`).join('')}
                    </div>
                </div>
            `).join('');

            if(!q && all.length > 0) {
                const feat = all[Math.floor(Date.now()/86400000) % all.length];
                document.getElementById('daily-en').innerText = feat.en;
                document.getElementById('daily-zh').innerText = feat.zh;
                document.getElementById('daily-desc').innerText = feat.d;
            }
        }

        function renderLearn() {
            const mem = JSON.parse(localStorage.getItem('lex_v4') || '{}');
            const now = Date.now();
            const all = Object.values(data).flat();
            const toReview = all.filter(i => mem[i.id] && mem[i.id].t < now);
            
            document.getElementById('stat-review').innerText = toReview.length;
            const stage = document.getElementById('card-stage');
            const empty = document.getElementById('empty-state');

            if(toReview.length === 0) {
                stage.classList.add('view-hidden');
                empty.classList.remove('view-hidden');
            } else {
                stage.classList.remove('view-hidden');
                empty.classList.add('view-hidden');
                const i = toReview[0];
                stage.innerHTML = `
                    <div class="glass learn-card p-12 rounded-[3.5rem] text-center border-none shadow-2xl">
                        <h3 class="text-5xl font-black mb-10 serif-title tracking-tighter">${i.en}</h3>
                        <div class="mb-12 h-20">
                            <div id="hint" class="opacity-0 transition-all duration-500 scale-95">
                                <p class="text-2xl font-bold mb-2">${i.zh}</p>
                                <p class="text-xs text-gray-400 leading-relaxed">${i.d}</p>
                            </div>
                            <button id="show-btn" onclick="document.getElementById('hint').classList.remove('opacity-0','scale-95'); this.remove()" class="text-[10px] font-black tracking-[0.2em] text-blue-500 uppercase border-b border-blue-100 pb-1">Tap to reveal</button>
                        </div>
                        <div class="flex space-x-3">
                            <button onclick="updateMem('${i.id}', true)" class="flex-1 py-5 rounded-3xl bg-blue-500 text-white font-black btn-press shadow-lg shadow-blue-500/20">è®¤è¯†</button>
                            <button onclick="updateMem('${i.id}', false)" class="flex-1 py-5 rounded-3xl bg-slate-100 dark:bg-slate-800 text-slate-400 font-black btn-press">æ¨¡ç³Š</button>
                        </div>
                    </div>
                `;
            }
        }

        function markKnown(id) {
            let mem = JSON.parse(localStorage.getItem('lex_v4') || '{}');
            if(!mem[id]) {
                mem[id] = { lvl: 1, t: Date.now() + 3600000 };
                localStorage.setItem('lex_v4', JSON.stringify(mem));
                renderList();
            }
        }

        function updateMem(id, known) {
            let mem = JSON.parse(localStorage.getItem('lex_v4') || '{}');
            let r = mem[id] || { lvl: 0, t: 0 };
            known ? r.lvl = Math.min(r.lvl+1, 7) : r.lvl = Math.max(r.lvl-1, 0);
            r.t = Date.now() + reviews[r.lvl] * 3600000;
            mem[id] = r;
            localStorage.setItem('lex_v4', JSON.stringify(mem));
            renderLearn();
        }

        function goto(view) {
            activeTab = view;
            document.getElementById('page-learn').classList.toggle('view-hidden', view !== 'learn');
            document.getElementById('page-search').classList.toggle('view-hidden', view !== 'search');
            document.getElementById('tab-learn').classList.toggle('tab-active', view === 'learn');
            document.getElementById('tab-search').classList.toggle('tab-active', view === 'search');
            view === 'learn' ? renderLearn() : renderList();
        }

        function filter(c) {
            activeCat = c;
            ['all','legal','gaming','food'].forEach(cat => {
                document.getElementById('f-'+cat).classList.toggle('bg-blue-500', cat === c);
                document.getElementById('f-'+cat).classList.toggle('text-white', cat === c);
            });
            renderList();
        }

        function toggleDark() {
            document.body.classList.toggle('dark-mode');
            const icon = document.getElementById('dark-btn');
            icon.innerText = document.body.classList.contains('dark-mode') ? 'â˜€ï¸' : 'ğŸŒ™';
        }

        window.onload = () => { renderList(); filter('all'); };
    </script>
</body>
</html>
